(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{353:function(s,a,t){"use strict";t.r(a);var r=t(43),e=Object(r.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"前端可能用到的工具的代理设置方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端可能用到的工具的代理设置方法"}},[s._v("#")]),s._v(" 前端可能用到的工具的代理设置方法")]),s._v(" "),t("p",[s._v("因为众所周知的原因，很多国外的资源没法下载，或者速度很慢；最近编译了一次V8，下载过程中再次充分体会到了这一点……所以就稍微记录一下平时用到的一些工具的代理的设置方法。因为我主要用的是Windows，下面的内容也是基于Windows的。")]),s._v(" "),t("p",[t("strong",[s._v("提示：本文不是翻墙教程，只是探讨可能的设置代理的方法。")])]),s._v(" "),t("p",[s._v("此外，这些方法的设置主要是"),t("strong",[s._v("临时性")]),s._v("的（npm和yarn除外）。为什么不搞个持久化的方式，因为我不想因为某次忘了关，或者代理的端口变了，导致连不上网，然后花很长时间去排查问题；可以写个脚本啥的。")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"验证方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#验证方式"}},[s._v("#")]),s._v(" 验证方式")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -vv http://www.google.com\n")])])]),t("p",[s._v("我一开始没想到Windows下也能用curl。")]),s._v(" "),t("h2",{attrs:{id:"windows命令行（cmd）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windows命令行（cmd）"}},[s._v("#")]),s._v(" Windows命令行（CMD）")]),s._v(" "),t("div",{staticClass:"language-powershell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-powershell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" http_proxy=<protocol>:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("<host>:<port>\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),s._v(" https_proxy=<protocol>:"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("<host>:<port>\n")])])]),t("p",[s._v("事实上，就我所知，大部分的代理的host是在localhost上的，主要是协议和端口有所不同。")]),s._v(" "),t("h2",{attrs:{id:"git-bash"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-bash"}},[s._v("#")]),s._v(" Git Bash")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("http_proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("protocol"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("://"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("https_proxy")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("protocol"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("://"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("p",[s._v("其实是差不多的写法。")]),s._v(" "),t("p",[s._v("此外，之前看到有人提到在Git层设置代理，具体写法如下：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global http.proxy "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<protocol>://<host>:<port>'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config --global https.proxy "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<protocol>://<host>:<port>'")]),s._v("\n")])])]),t("p",[s._v("但是在我这里没有生效，也不知道为什么。不过很多人说有效，姑且记录一下。")]),s._v(" "),t("h2",{attrs:{id:"npm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[s._v("#")]),s._v(" npm")]),s._v(" "),t("p",[s._v("老生常谈的内容了。一般来说也不太需要代理，因为有国内镜像。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n")])])]),t("p",[s._v("并且，有些内容也是有国内镜像的。比如著名的node-sass，有三种方式进行install。")]),s._v(" "),t("p",[s._v("比如，在shell里设置环境变量：")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SASS_BINARY_SITE")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://example.com/\n")])])]),t("p",[s._v("或者，在"),t("code",[s._v(".npmrc")]),s._v("文件里增加一个配置：")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sass_binary_site")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://example.com/\n")])])]),t("p",[s._v("再或者，直接作为命令行的参数：")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" node-sass --sass-binary-site"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://example.com/\n")])])]),t("p",[s._v("实在是在国内找不到的时候，就用这个设置代理：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" proxy "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("protocol"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("://"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("p",[s._v("类似的库还有一些测试用的driver，比如chromedriver和geckodriver，做e2e测试的时候会用到。举个例子：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" chromedriver --chromedriver_cdnurl"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://npm.taobao.org/mirrors/chromedriver "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" geckodriver --geckodriver_cdnurl"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://npm.taobao.org/mirrors/geckodriver\n")])])]),t("h2",{attrs:{id:"yarn"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#yarn"}},[s._v("#")]),s._v(" yarn")]),s._v(" "),t("p",[s._v("yarn设置国内镜像的方法和npm差不多：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n")])])]),t("p",[s._v("其实我更喜欢用原生的npm，但是似乎很多开源项目都用的yarn，部分项目更是明确要求用yarn来安装依赖，所以还是很有用的。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" config "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" proxy "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("protocol"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("://"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" confit "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" https-proxy "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("protocol"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("://"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("host"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("port"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);