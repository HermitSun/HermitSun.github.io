(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{365:function(t,a,s){"use strict";s.r(a);var e=s(42),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"百度ai-studio配置并运行pytorch项目的体验"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#百度ai-studio配置并运行pytorch项目的体验"}},[t._v("#")]),t._v(" 百度AI Studio配置并运行pytorch项目的体验")]),t._v(" "),s("p",[t._v("总之，体验我给7分（满分10分）。")]),t._v(" "),s("p",[t._v("优点：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("GPU挺快的，当然这一点没有比较过，直观感受上还挺快的")])]),t._v(" "),s("li",[s("p",[t._v("算力卡（GPU可用时长）给得跟不要钱似的，完全就是那种屠龙宝刀来就送的感觉，而且我这算力卡怎么越用越多……")])])]),t._v(" "),s("p",[t._v("缺点：")]),t._v(" "),s("ul",[s("li",[t._v("notebook里只能使用百度家的飞桨框架（虽然在命令行可以用其他框架，但不稳定）")]),t._v(" "),s("li",[t._v("动不动掉线，一掉线装好的依赖就全没了……在网上看到一堆持久化的方法，但好像并没有用，我没有往持久化的目录里写数据的权限，也没法sudo。要是有什么好办法，请各位指教~~，然后我把评分改高一点~~。")])]),t._v(" "),s("p",[t._v("因为它的缺陷特别败好感，所以我只能给个7分。")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("刚才谈到，他这个平台不能在notebook里运行别的框架，所以pytorch只能在命令行用。还好他装了3.7的py，可以用pip（没有conda）安装pytorch。但是在装之前，先换成清华的镜像，这样能快一点：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("pip config "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n")])])]),s("p",[t._v("然后看一下平台GPU的版本，免得装错了pytorch的版本：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("nvcc -V\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nvcc: NVIDIA (R) Cuda compiler driver")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Copyright (c) 2005-2018 NVIDIA Corporation")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Built on Tue_Jun_12_23:07:04_CDT_2018")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Cuda compilation tools, release 9.2, V9.2.148")]),t._v("\n")])])]),s("p",[t._v("然后查看官方文档，因为这里是9.2的cuda，所以需要这么安装：")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("torch")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.5")]),t._v(".0+cu92 "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("torchvision")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.6")]),t._v(".0+cu92 -f https://download.pytorch.org/whl/torch_stable.html\n")])])]),s("p",[t._v("如果装错了，运行的时候就会报错。会出现这个情况：")]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cuda"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("is_available"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("\n")])])]),s("p",[t._v("感觉上相当于就是驱动不匹配，没法使用GPU，所以一定要装对。")]),t._v(" "),s("p",[t._v("等一会，安装完了之后，在命令行输个python，然后"),s("code",[t._v("import torch")]),t._v("试试，如果可以正常运行，那就正式完成了，可以开始使用。不过，只能在命令行用，即使是装好了，也不能在notebook里用：")]),t._v(" "),s("blockquote",[s("p",[t._v("Cannot run import torch because of system compatibility. AI Studio prepared an entire environment based on PaddlePaddle already. Please use PaddlePaddle to build your own model or application.")])]),t._v(" "),s("p",[t._v("打扰了。\n"),s("comment")],1)])}),[],!1,null,null,null);a.default=n.exports}}]);